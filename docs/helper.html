---

title: Helper functions


keywords: fastai
sidebar: home_sidebar

summary: "A couple of helper functions are available"
description: "A couple of helper functions are available"
nb_path: "01_helper.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 01_helper.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">urllib.parse</span><span class="o">,</span> <span class="nn">urllib.request</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span><span class="p">,</span> <span class="n">quote_plus</span>
<span class="kn">import</span> <span class="nn">http.client</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Url-Request">Url Request<a class="anchor-link" href="#Url-Request"> </a></h3><p>Basic function that opens an url</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="urlrequest" class="doc_header"><code>urlrequest</code><a href="https://github.com/StevedeP/ClickUpShiftScore/blob/master/ClickUpShiftScore/helper.py#L14" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>urlrequest</code>(<strong><code>url</code></strong>, <strong><code>apikey</code></strong>, <strong><code>param</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">urlrequest</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">apikey</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">add_header</span><span class="p">(</span><span class="s2">&quot;Authorization&quot;</span><span class="p">,</span> <span class="n">apikey</span><span class="p">)</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">responsedata</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">responsedata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Update-Score">Update Score<a class="anchor-link" href="#Update-Score"> </a></h3><p>For the given field (the score field) and task, a value (the score) is posted</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="updatescore" class="doc_header"><code>updatescore</code><a href="https://github.com/StevedeP/ClickUpShiftScore/blob/master/ClickUpShiftScore/helper.py#L23" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>updatescore</code>(<strong><code>fieldid</code></strong>, <strong><code>taskid</code></strong>, <strong><code>value</code></strong>, <strong><code>apikey</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">updatescore</span><span class="p">(</span><span class="n">fieldid</span><span class="p">,</span> <span class="n">taskid</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">apikey</span><span class="p">):</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;api.clickup.com&quot;</span><span class="p">)</span>

    <span class="n">payload</span> <span class="o">=</span> <span class="s2">&quot;{</span><span class="se">\r\n</span><span class="s2">  </span><span class="se">\&quot;</span><span class="s2">value</span><span class="se">\&quot;</span><span class="s2">: &quot;</span> <span class="o">+</span> <span class="n">value</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">}&quot;</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;authorization&#39;</span><span class="p">:</span> <span class="n">apikey</span><span class="p">,</span>
        <span class="s1">&#39;content-type&#39;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="s1">&#39;cache-control&#39;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span>
        <span class="p">}</span>

    <span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="s2">&quot;/api/v2/task/&quot;</span> <span class="o">+</span> <span class="n">taskid</span> <span class="o">+</span> <span class="s2">&quot;/field/&quot;</span> <span class="o">+</span> <span class="n">fieldid</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Shift-the-start-and-due-date">Shift the start and due date<a class="anchor-link" href="#Shift-the-start-and-due-date"> </a></h3><p>For a Task, shift the start and due date by a number of days</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="shiftstartandduedate" class="doc_header"><code>shiftstartandduedate</code><a href="https://github.com/StevedeP/ClickUpShiftScore/blob/master/ClickUpShiftScore/helper.py#L41" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>shiftstartandduedate</code>(<strong><code>taskid</code></strong>, <strong><code>startvalue</code></strong>, <strong><code>duevalue</code></strong>, <strong><code>aantaldagen</code></strong>, <strong><code>apikey</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">shiftstartandduedate</span><span class="p">(</span><span class="n">taskid</span><span class="p">,</span> <span class="n">startvalue</span><span class="p">,</span> <span class="n">duevalue</span><span class="p">,</span> <span class="n">aantaldagen</span><span class="p">,</span> <span class="n">apikey</span><span class="p">):</span>
    <span class="n">startvalue</span> <span class="o">=</span> <span class="n">startvalue</span> <span class="o">+</span> <span class="p">((</span><span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span> <span class="o">*</span> <span class="n">aantaldagen</span><span class="p">)</span>
    <span class="n">duevalue</span> <span class="o">=</span> <span class="n">duevalue</span> <span class="o">+</span> <span class="p">((</span><span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">24</span><span class="p">)</span> <span class="o">*</span> <span class="n">aantaldagen</span><span class="p">)</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;api.clickup.com&quot;</span><span class="p">)</span>

    <span class="n">payload</span> <span class="o">=</span> <span class="s2">&quot;{</span><span class="se">\r\n</span><span class="s2">  </span><span class="se">\&quot;</span><span class="s2">start_date</span><span class="se">\&quot;</span><span class="s2">: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">startvalue</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;,</span><span class="se">\r\n</span><span class="s2">  </span><span class="se">\&quot;</span><span class="s2">due_date</span><span class="se">\&quot;</span><span class="s2">: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">duevalue</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">}&quot;</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;authorization&#39;</span><span class="p">:</span> <span class="n">apikey</span><span class="p">,</span>
        <span class="s1">&#39;content-type&#39;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="s1">&#39;cache-control&#39;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span>
        <span class="p">}</span>

    <span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="s2">&quot;/api/v2/task/&quot;</span> <span class="o">+</span> <span class="n">taskid</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Update-Priority">Update Priority<a class="anchor-link" href="#Update-Priority"> </a></h3><p>Updates the priority, requires custom field, that have been hardcoded in this code!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="updatepriority" class="doc_header"><code>updatepriority</code><a href="https://github.com/StevedeP/ClickUpShiftScore/blob/master/ClickUpShiftScore/helper.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>updatepriority</code>(<strong><code>taskid</code></strong>, <strong><code>value</code></strong>, <strong><code>apikey</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">updatepriority</span><span class="p">(</span><span class="n">taskid</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">apikey</span><span class="p">):</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">http</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">HTTPSConnection</span><span class="p">(</span><span class="s2">&quot;api.clickup.com&quot;</span><span class="p">)</span>

    <span class="n">payload</span> <span class="o">=</span> <span class="s2">&quot;{</span><span class="se">\r\n</span><span class="s2">  </span><span class="se">\&quot;</span><span class="s2">priority</span><span class="se">\&quot;</span><span class="s2">: &quot;</span> <span class="o">+</span> <span class="n">value</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">}&quot;</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;authorization&#39;</span><span class="p">:</span> <span class="n">apikey</span><span class="p">,</span>
        <span class="s1">&#39;content-type&#39;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
        <span class="s1">&#39;cache-control&#39;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span>
        <span class="p">}</span>

    <span class="n">conn</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="s2">&quot;/api/v2/task/&quot;</span> <span class="o">+</span> <span class="n">taskid</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">getresponse</span><span class="p">()</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>


